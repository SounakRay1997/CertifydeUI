{"ast":null,"code":"'use strict';\n\nconst mapObj = require('map-obj');\n\nconst camelCase = require('camelcase');\n\nconst QuickLru = require('quick-lru');\n\nconst has = (array, key) => array.some(x => {\n  if (typeof x === 'string') {\n    return x === key;\n  }\n\n  x.lastIndex = 0;\n  return x.test(key);\n});\n\nconst cache = new QuickLru({\n  maxSize: 100000\n}); // Reproduces behavior from `map-obj`\n\nconst isObject = value => typeof value === 'object' && value !== null && !(value instanceof RegExp) && !(value instanceof Error) && !(value instanceof Date);\n\nconst camelCaseConvert = (input, options) => {\n  if (!isObject(input)) {\n    return input;\n  }\n\n  options = {\n    deep: false,\n    pascalCase: false,\n    ...options\n  };\n  const {\n    exclude,\n    pascalCase,\n    stopPaths,\n    deep\n  } = options;\n  const stopPathsSet = new Set(stopPaths);\n\n  const makeMapper = parentPath => (key, value) => {\n    if (deep && isObject(value)) {\n      const path = parentPath === undefined ? key : `${parentPath}.${key}`;\n\n      if (!stopPathsSet.has(path)) {\n        value = mapObj(value, makeMapper(path));\n      }\n    }\n\n    if (!(exclude && has(exclude, key))) {\n      const cacheKey = pascalCase ? `${key}_` : key;\n\n      if (cache.has(cacheKey)) {\n        key = cache.get(cacheKey);\n      } else {\n        const ret = camelCase(key, {\n          pascalCase\n        });\n\n        if (key.length < 100) {\n          // Prevent abuse\n          cache.set(cacheKey, ret);\n        }\n\n        key = ret;\n      }\n    }\n\n    return [key, value];\n  };\n\n  return mapObj(input, makeMapper(undefined));\n};\n\nmodule.exports = (input, options) => {\n  if (Array.isArray(input)) {\n    return Object.keys(input).map(key => camelCaseConvert(input[key], options));\n  }\n\n  return camelCaseConvert(input, options);\n};","map":null,"metadata":{},"sourceType":"script"}